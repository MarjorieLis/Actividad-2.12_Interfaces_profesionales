<mat-sidenav-container class="sidenav-container">
  <!-- ✅ Menú lateral con [opened] controlado por sideNavOpened -->
  <mat-sidenav #drawer 
               class="sidenav" 
               [mode]="(isHandset$ | async) ? 'over' : 'side'" 
               [opened]="sideNavOpened">
    <mat-nav-list>
      <a mat-list-item 
         routerLink="/registro" 
         routerLinkActive="active" 
         (click)="closeDrawerOnMobile()">
        <mat-icon matListItemIcon>person_add</mat-icon>
        <div matListItemTitle>Registrar Usuario</div>
      </a>
      <a mat-list-item 
         routerLink="/usuarios" 
         routerLinkActive="active" 
         (click)="closeDrawerOnMobile()">
        <mat-icon matListItemIcon>people</mat-icon>
        <div matListItemTitle>Lista de Usuarios</div>
      </a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar color="primary" class="toolbar">
      <!-- ✅ Botón de menú siempre visible para abrir/cerrar -->
      <button mat-icon-button (click)="toggleDrawer()">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="toolbar-title">Panel Administrativo</span>
    </mat-toolbar>
    
    <div class="content">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>